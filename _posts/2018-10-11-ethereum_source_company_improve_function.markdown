---
layout:     post
title:      "以太坊源码分析-以太坊源码的企业需求"
subtitle:   " \"以企业模块化方式初识以太坊源码的企业需求\""
date:       2018-10-11 15:11
header-img: "img/post-bg-ethereum.jpg" 
tags:
    - ethereum
    - blockchain
---

# 以企业模块化方式初识以太坊源码的企业需求

### 1. 国内公链现况

公链之争，企业的想法就是不管怎么样先上了所谓的主链再说。以太坊可以说是整个公链之争的核心，所有其他公链都想取而代之其公链老大的地位，但是到目前为止以太坊的地方始终没有被撼动。以太坊在公链中基本起到了标杆作用，但是以太坊目前依然存在自己的问题，这些问题就是企业需要解决的问题，只有解决了这些问题，企业才能在现有的以太坊基础上进行二次开发或改写公链

### 2. 以太坊本身缺陷

- 网络拥堵方法
- 交易费高
- 扩展性差

#### 2.1 网络拥堵方法

因为以太坊每秒只能支持20个交易，甚至一个热门应用就能让网络卡死，以太坊目前能够支持的交易量级很有限，其原因和最初的以太坊架构有很大关系，以太坊网络里的所有节点都处理同样的智能合约，而且所有的状态都记录到公共的区块链账本中，这样的系统注定效率低下，无法支撑成千上万的DApp并行运行

#### 2.2. 交易费用高

目前DApp开发者每次对以太坊智能合约的部署花费的GAS大约在1\-3美元，且维护DApp运行的成本较高

#### 2.3 扩展性较差

以太坊上不能搭建链，以太坊上的所有DApp应用都只能共用一条主链，能支持的应用场景也很有限。以太坊的架构很多方面不适合DApp的应用，主要表现在两个方面：

- DApp学习成本高
- DApp应用场景单一

##### 2.3.1 DApp学习成本高

DApp学习成本大。如果用户需要使用一个基于以太坊智能合约的DApp应用的话，需要先了解以下知识

1. 他要有一个钱包地址、私钥，并知道如何正确的使用钱包地址和保存私钥。
2. 必须先通过某种方式先获得ETH（以太币），然后才能将ETH转移到DApp的钱包地址。这个过程对区块链小白来说非常复杂，而且在转移ETH后依然需要等待旷工挖矿成功后用户才能真正的使用DApp

##### 2.3.2 DApp应用场景单一

以太坊上的所有DApp应用都只能共用一条ETH主链，DApp不能搭建自己的子链，不能自定义自己的共识算法，不能根据业务需要选择最优化的配置，这导致了以太坊目前除了发币以外，能支持的商业应用很少，不利于构建DApp生态

所以以太坊生态看似风之招展，实际问题很多，如果不尽快完成内核升级和改造，顶部众多DApp的运行稳定性和健壮性称为巨大隐患

### 以太坊的改进方向

- 目前为了改善以上得到的以太坊问题，国内的企业需要完成在P2P网络上支持多种子链，同时需要完善异步合约调用、合约分片处理、跨链操作等当前区块链技术难题，开发出一种平台的扩展能力和对合约的处理速度远远优于基础以太坊的产品。从而体现出此链的商业价值
- 降低DApp用户的学习难度，某些企业引用Google的V8引擎，完成虚拟机的搭建工作，也有引用otto框架完成虚拟机的设计，改进目标为区块链的DApp的使用和传统DApp一样。类似于用户从应用商店下载了之后就可以立刻使用。真正的DApp用户并不需要关心底层的区块链是什么样的，不需要关心ETH的存在或者如何获取ETH，这个问题主要取决于虚拟机
- 企业的PoP模式设计，有的公司目前使用分层设计和PoP共识方式，既保证了系统安全有提升了效率。底层物理层使用PoW共识算法，上层智能合约的逻辑网用PoS共识算法，两种共识算法配合使用，使得两者的优点都能兼顾，可以称为PoP
- 企业分片通讯设计，大幅提高网络性能，相比以太坊每秒20次交易速度，大幅增加每秒的交易次数，最终通过网络性能，大幅提高交易次数


### 附录

[Google V8引擎](https://github.com/v8/v8)

[otto框架](https://github.com/robertkrimen/otto)